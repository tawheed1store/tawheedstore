<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="tawheed store shop cleaning ahmed tawheed tawheedstore" />
    <title>متجرنا - تسوق الآن</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts - Cairo -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" href="./logo.png" />
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            direction: rtl; /* Set text direction to Right-to-Left for Arabic */
            background-color: #f8f8f8;
            color: #333;
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Smooth scroll behavior */
        html {
            scroll-behavior: smooth;
        }

        /* Animation for sections and cards on scroll */
        .fade-in-section {
            opacity: 0.01; /* Changed from 0 to 0.01 for better Intersection Observer detection */
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        .fade-in-card {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }
        .fade-in-card.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        /* Custom styling for the shopping cart modal */
        .cart-modal {
            max-height: 80vh; /* Limit height to prevent overflow */
            overflow-y: auto; /* Enable scrolling for cart content */
        }
    </style>
</head>
<body class="relative">

    <!-- Navbar -->
    <nav class="bg-gradient-to-r from-blue-600 to-blue-800 p-4 shadow-lg fixed w-full z-50">
        <div class="container mx-auto flex justify-between items-center">
            <a href="#" class="text-white text-3xl font-bold rounded-lg px-3 py-1 hover:bg-blue-700 transition duration-300">متجرنا</a>
            <div class="hidden md:flex space-x-6 space-x-reverse">
                <a href="#home" class="text-white text-lg hover:text-blue-200 transition duration-300">الرئيسية</a>
                <a href="#products" class="text-white text-lg hover:text-blue-200 transition duration-300">منتجاتنا</a>
                <a href="#payment" class="text-white text-lg hover:text-blue-200 transition duration-300">طرق الدفع</a>
                <a href="#orders" class="text-white text-lg hover:text-blue-200 transition duration-300">الطلبات</a>
                <a href="#about" class="text-white text-lg hover:text-blue-200 transition duration-300">عنا</a>
                <a href="#why-us" class="text-white text-lg hover:text-blue-200 transition duration-300">لماذا نحن</a>
            </div>
            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="md:hidden text-white text-2xl focus:outline-none">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        <!-- Mobile Menu Overlay -->
        <div id="mobile-menu" class="hidden md:hidden fixed inset-0 bg-blue-900 bg-opacity-95 z-40 flex flex-col items-center justify-center space-y-8">
            <button id="close-mobile-menu" class="absolute top-4 right-4 text-white text-3xl focus:outline-none">
                <i class="fas fa-times"></i>
            </button>
            <a href="#home" class="text-white text-3xl hover:text-blue-200 transition duration-300" onclick="hideMobileMenu()">الرئيسية</a>
            <a href="#products" class="text-white text-3xl hover:text-blue-200 transition duration-300" onclick="hideMobileMenu()">منتجاتنا</a>
            <a href="#payment" class="text-white text-3xl hover:text-blue-200 transition duration-300" onclick="hideMobileMenu()">طرق الدفع</a>
            <a href="#orders" class="text-white text-3xl hover:text-blue-200 transition duration-300" onclick="hideMobileMenu()">الطلبات</a>
            <a href="#about" class="text-white text-3xl hover:text-blue-200 transition duration-300" onclick="hideMobileMenu()">عنا</a>
            <a href="#why-us" class="text-white text-3xl hover:text-blue-200 transition duration-300" onclick="hideMobileMenu()">لماذا نحن</a>
        </div>
    </nav>

    <!-- Home Section -->
    <section id="home" class="h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-center text-white p-6 pt-20 fade-in-section">
        <div class="max-w-3xl">
            <h1 class="text-5xl md:text-7xl font-extrabold mb-6 leading-tight animate-bounce">
                متجرنا: بوابتك لتجربة تسوق لا مثيل لها
            </h1>
            <p class="text-xl md:text-2xl mb-10 opacity-90">
                اكتشف مجموعة واسعة من المنتجات عالية الجودة، من المنظفات إلى الخضروات الطازجة، كل ما تحتاجه في مكان واحد.
            </p>
            <a href="#products" class="bg-white text-blue-700 hover:bg-blue-100 px-8 py-4 rounded-full text-xl font-bold shadow-lg transition duration-300 transform hover:scale-105">
                اكتشف المزيد <i class="fas fa-arrow-down mr-2"></i>
            </a>
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="py-16 bg-gray-100 p-6"> <!-- Removed fade-in-section class -->
        <div class="container mx-auto">
            <h2 class="text-5xl font-extrabold text-center text-blue-800 mb-12">منتجاتنا المتنوعة</h2>

            <!-- Search and Filter -->
            <div class="flex flex-col md:flex-row items-center justify-center mb-10 space-y-4 md:space-y-0 md:space-x-4 md:space-x-reverse">
                <input type="text" id="search-input" placeholder="ابحث عن منتج..." class="p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 w-full md:w-1/3 text-lg text-right" onkeyup="filterProducts()">
                <select id="category-filter" class="p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 w-full md:w-1/4 text-lg text-right" onchange="filterProducts()">
                    <option value="all">جميع الفئات</option>
                    <option value="cleaners">منظفات</option>
                    <option value="kitchen-tools">ادوات مطبخ</option>
                    <option value="vegetables">خضروات</option>
                    <option value="library">مكتبة</option>
                    <option value="food">غذائية</option>
                    <option value="drinks">مشروبات</option>
                </select>
            </div>

            <!-- Product Grid -->
            <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- Products will be injected here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Payment Method Section -->
    <section id="payment" class="py-16 bg-blue-700 text-white p-6 fade-in-section">
        <div class="container mx-auto text-center">
            <h2 class="text-5xl font-extrabold mb-8">طرق الدفع المتاحة</h2>
            <p class="text-xl mb-10 opacity-90 max-w-2xl mx-auto">
                لتسهيل عملية الشراء، نوفر حاليًا طريقة دفع واحدة ومريحة: الدفع عند الاستلام (كاش). <br>
                <span class="font-bold text-yellow-300">ملاحظة: في حالة طلب خدمة التوصيل (دليفري)، تضاف رسوم توصيل قدرها 5 جنيهات مصرية.</span>
            </p>
            <a href="#orders" class="bg-white text-blue-700 hover:bg-blue-100 px-8 py-4 rounded-full text-xl font-bold shadow-lg transition duration-300 transform hover:scale-105">
                اذهب إلى طلباتك <i class="fas fa-arrow-left mr-2"></i>
            </a>
        </div>
    </section>

    <!-- Orders Section -->
    <section id="orders" class="py-16 bg-gray-100 p-6 fade-in-section">
        <div class="container mx-auto">
            <h2 class="text-5xl font-extrabold text-center text-blue-800 mb-12">طلباتك الحالية</h2>
            <div id="order-list-container" class="bg-white p-8 rounded-lg shadow-xl max-w-3xl mx-auto min-h-[200px] flex flex-col justify-between">
                <div id="order-list" class="text-lg text-gray-700 leading-relaxed mb-6">
                    <!-- Order items will be displayed here -->
                </div>
                <div id="empty-order-message" class="text-center text-gray-500 text-xl hidden">
                    <i class="fas fa-shopping-basket text-6xl mb-4 text-gray-400"></i>
                    <p>عربة التسوق فارغة! دعنا نملأها بمنتجات رائعة.</p>
                    <a href="#products" class="mt-6 inline-block bg-blue-600 text-white px-6 py-3 rounded-full text-lg font-bold hover:bg-blue-700 transition duration-300">
                        اكتشف منتجاتنا
                    </a>
                </div>
                <div id="order-actions" class="mt-8 pt-6 border-t border-gray-200 flex flex-col items-center space-y-4 hidden">
                    <button id="copy-order-button" class="bg-green-600 text-white px-8 py-4 rounded-full text-xl font-bold shadow-md hover:bg-green-700 transition duration-300 transform hover:scale-105">
                        <i class="fas fa-copy ml-2"></i> نسخ الطلب
                    </button>
                    <p class="text-gray-600 text-center text-lg mt-4">
                        يرجى نسخ الطلب أعلاه ثم اضغط على زر "إرسال الطلب" لإتمام العملية.
                    </p>
                    <a href="https://forms.gle/Zv61MkJV1YRHxSBi7">
                        <button id="send-order-button" class="bg-blue-600 text-white px-8 py-4 rounded-full text-xl font-bold shadow-md hover:bg-blue-700 transition duration-300 transform hover:scale-105">
                            <i class="fas fa-paper-plane ml-2"></i> إرسال الطلب
                        </button>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Download App Section -->
    <section id="download-app" class="py-16 bg-purple-700 text-white p-6 fade-in-section">
        <div class="container mx-auto text-center">
            <h2 class="text-5xl font-extrabold mb-8">نزل تطبيقنا الآن!</h2>
            <p class="text-xl mb-10 opacity-90 max-w-2xl mx-auto">
                استمتع بتجربة تسوق أسهل وأسرع مع تطبيق متجرنا المتوفر على جميع المنصات. حمل التطبيق اليوم!
            </p>
            <button class="bg-white text-purple-700 hover:bg-purple-100 px-8 py-4 rounded-full text-xl font-bold shadow-lg transition duration-300 transform hover:scale-105">
                <i class="fas fa-mobile-alt ml-2"></i> حمل التطبيق
            </button>
        </div>
    </section>

    <!-- About Us Section -->
    <section id="about" class="py-16 bg-gray-200 p-6 fade-in-section">
        <div class="container mx-auto text-center">
            <h2 class="text-5xl font-extrabold text-blue-800 mb-8">عنا</h2>
            <p class="text-xl text-gray-700 leading-relaxed max-w-4xl mx-auto">
                في متجرنا، نؤمن بأن التسوق يجب أن يكون تجربة ممتعة وسهلة. نحن نقدم مجموعة واسعة من المنتجات المختارة بعناية لضمان أعلى جودة وأفضل قيمة لعملائنا. نسعى جاهدين لتوفير خدمة عملاء استثنائية وتجربة تسوق لا تُنسى تلبي جميع احتياجاتك. مهمتنا هي تبسيط حياتك اليومية من خلال توفير كل ما تحتاجه في مكان واحد، بأسعار تنافسية وجودة لا تضاهى.
            </p>
        </div>
    </section>

    <!-- Why Us Section -->
    <section id="why-us" class="py-16 bg-blue-800 text-white p-6 fade-in-section">
        <div class="container mx-auto text-center">
            <h2 class="text-5xl font-extrabold mb-12">لماذا تختار متجرنا؟</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Card 1 -->
                <div class="bg-blue-700 p-8 rounded-lg shadow-xl flex flex-col items-center fade-in-card">
                    <i class="fas fa-award text-6xl text-yellow-400 mb-6"></i>
                    <h3 class="text-3xl font-bold mb-4">جودة لا تضاهى</h3>
                    <p class="text-lg opacity-90">
                        نلتزم بتقديم منتجات عالية الجودة فقط، مختارة بعناية لضمان رضاك التام. كل منتج يمر بفحص دقيق قبل وصوله إليك.
                    </p>
                </div>
                <!-- Card 2 -->
                <div class="bg-blue-700 p-8 rounded-lg shadow-xl flex flex-col items-center fade-in-card">
                    <i class="fas fa-shipping-fast text-6xl text-green-400 mb-6"></i>
                    <h3 class="text-3xl font-bold mb-4">توصيل سريع وموثوق</h3>
                    <p class="text-lg opacity-90">
                        نضمن لك توصيل طلباتك بأسرع وقت ممكن وبأمان تام، لتصلك منتجاتك طازجة وفي أفضل حال.
                    </p>
                </div>
                <!-- Card 3 -->
                <div class="bg-blue-700 p-8 rounded-lg shadow-xl flex flex-col items-center fade-in-card">
                    <i class="fas fa-headset text-6xl text-red-400 mb-6"></i>
                    <h3 class="text-3xl font-bold mb-4">دعم عملاء ممتاز</h3>
                    <p class="text-lg opacity-90">
                        فريق دعم العملاء لدينا جاهز دائمًا لمساعدتك والإجابة على استفساراتك لضمان تجربة تسوق سلسة.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12 px-6">
        <div class="container mx-auto grid grid-cols-1 md:grid-cols-3 gap-10 text-center md:text-right">
            <!-- About Us -->
            <div>
                <h3 class="text-2xl font-bold mb-6 text-blue-400">عن متجرنا</h3>
                <p class="text-gray-400 leading-relaxed">
                    متجرنا هو وجهتك الأولى للتسوق عبر الإنترنت، حيث نقدم تشكيلة واسعة من المنتجات لتلبية جميع احتياجاتك اليومية.
                </p>
            </div>
            <!-- Quick Links -->
            <div>
                <h3 class="text-2xl font-bold mb-6 text-blue-400">روابط سريعة</h3>
                <ul class="space-y-3">
                    <li><a href="#home" class="text-gray-400 hover:text-white transition duration-300">الرئيسية</a></li>
                    <li><a href="#products" class="text-gray-400 hover:text-white transition duration-300">منتجاتنا</a></li>
                    <li><a href="#payment" class="text-gray-400 hover:text-white transition duration-300">طرق الدفع</a></li>
                    <li><a href="#orders" class="text-gray-400 hover:text-white transition duration-300">الطلبات</a></li>
                    <li><a href="#about" class="text-gray-400 hover:text-white transition duration-300">عنا</a></li>
                </ul>
            </div>
            <!-- Contact Info -->
            <div>
                <h3 class="text-2xl font-bold mb-6 text-blue-400">تواصل معنا</h3>
                <p class="text-gray-400">
                    <i class="fas fa-map-marker-alt ml-2"></i> 123
                </p>
                <p class="text-gray-400 mt-2">
                    <i class="fas fa-envelope ml-2"></i> info@ourstore.com
                </p>
                <p class="text-400 mt-2">
                    <i class="fas fa-phone ml-2"></i> +20 000 000 0000
                </p>
                <div class="flex justify-center md:justify-end space-x-4 space-x-reverse mt-6">
                    <a href="#" class="text-gray-400 hover:text-white text-2xl transition duration-300"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white text-2xl transition duration-300"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-gray-400 hover:text-white text-2xl transition duration-300"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
        <div class="border-t border-gray-700 mt-10 pt-8 text-center text-gray-500 text-sm">
            &copy; 2025 متجرنا. جميع الحقوق محفوظة.
        </div>
    </footer>

    <!-- Floating Shopping Cart Icon -->
    <div id="cart-icon" class="fixed bottom-8 right-8 bg-blue-600 text-white p-4 rounded-full shadow-lg cursor-pointer hover:bg-blue-700 transition duration-300 z-40">
        <i class="fas fa-shopping-cart text-3xl"></i>
        <span id="cart-count" class="absolute top-0 left-0 bg-red-500 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center -mt-2 -ml-2">0</span>
    </div>

    <!-- Floating Scroll to Top Icon -->
    <div id="scroll-to-top" class="fixed bottom-8 left-8 bg-gray-700 text-white p-4 rounded-full shadow-lg cursor-pointer hover:bg-gray-800 transition duration-300 z-40">
        <a href="#home" class="block">
            <i class="fas fa-arrow-up text-3xl"></i>
        </a>
    </div>

    <!-- Shopping Cart Modal -->
    <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white p-8 rounded-lg shadow-2xl w-full max-w-lg mx-4 cart-modal">
            <div class="flex justify-between items-center mb-6 border-b pb-4">
                <h3 class="text-3xl font-bold text-blue-800">عربة التسوق</h3>
                <button id="close-cart-modal" class="text-gray-500 hover:text-gray-700 text-3xl focus:outline-none">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="cart-items" class="space-y-4 mb-6">
                <!-- Cart items will be displayed here -->
            </div>
            <div id="empty-cart-message-modal" class="text-center text-gray-500 text-xl hidden">
                <i class="fas fa-box-open text-6xl mb-4 text-gray-400"></i>
                <p>عربة التسوق فارغة!</p>
            </div>
            <div class="flex justify-between items-center pt-4 border-t">
                <span class="text-2xl font-bold text-gray-800">الإجمالي: <span id="cart-total">0.00</span> جنيه</span>
                <a href="#orders" id="go-to-orders-button" class="bg-blue-600 text-white px-6 py-3 rounded-full text-lg font-bold hover:bg-blue-700 transition duration-300" onclick="hideCartModal()">
                    إتمام الطلب <i class="fas fa-arrow-left mr-2"></i>
                </a>
            </div>
        </div>
    </div>


    <script>
        // Product data
        const products = [
            // Cleaners
            { id: 'c1', name: 'منظف أرضيات متعدد الاستخدامات', description: 'يترك الأرضيات لامعة ورائحة منعشة.', price: 25.00, category: 'cleaners', imageUrl: 'https://blogger.googleusercontent.com/img/a/AVvXsEjbyf1P8KKhxUZ-jboV4PMmbYg1C7SxORfFB4IJwRKDFZyVhhdOn7ZqQlUrlVKfYykkitSCpmM4T-8qS6APPCAoDneylcLcB4bdLdQR8zBtC2EA3H-QGgoatmwXcUo-pocZY5sX_vhL6kPiaPjlPhV7oBHns_40rNzUMulQbxJjzUDyyIovumnX1bq8jFA' },
            // { id: 'c2', name: 'سائل غسيل الصحون المركز', description: 'قوة تنظيف فائقة تزيل الدهون بسهولة.', price: 18.50, category: 'cleaners', imageUrl: 'https://placehold.co/400x300/A7F3D0/10B981?text=سائل+صحون' },
            // { id: 'c3', name: 'معطر جو يدوم طويلاً', description: 'يمنح منزلك رائحة زكية ومنعشة لساعات.', price: 30.00, category: 'cleaners', imageUrl: 'https://placehold.co/400x300/A7F3D0/10B981?text=معطر+جو' },
            // { id: 'c4', name: 'منظف زجاج ومرايا', description: 'لنتائج خالية من الخطوط وبلمعان لا مثيل له.', price: 22.00, category: 'cleaners', imageUrl: 'https://placehold.co/400x300/A7F3D0/10B981?text=منظف+زجاج' },
            // { id: 'c5', name: 'مسحوق غسيل للملابس الملونة', description: 'يحافظ على ألوان ملابسك زاهية ونظيفة.', price: 55.00, category: 'cleaners', imageUrl: 'https://placehold.co/400x300/A7F3D0/10B981?text=مسحوق+غسيل' },

            // Kitchen Tools
            { id: 'kt1', name: 'طقم سكاكين احترافي', description: 'مصنوعة من الفولاذ المقاوم للصدأ عالي الجودة.', price: 150.00, category: 'kitchen-tools', imageUrl: 'https://blogger.googleusercontent.com/img/a/AVvXsEiOhlbbox-2uz6wlgxUnniOJ6qsFll0PcZLb62eRLpIQWZA1AMPjgOcv1Nwi6E2Fo54anapANm3ceZhkqtG673xIfVtT-OrAMGGxPj3D2jPJNujwukXpmAieXCnuZIZIRCxRAwdfHEXjPnSBL6-h-gwReSgvBbzmQkreYI3wU5uwhKPRI_ajwhF0Pk4VVo' },
            // { id: 'kt2', name: 'مقلاة غير لاصقة', description: 'مثالية للطهي الصحي وسهلة التنظيف.', price: 80.00, category: 'kitchen-tools', imageUrl: 'https://placehold.co/400x300/FECACA/EF4444?text=مقلاة' },
            // { id: 'kt3', name: 'قطاعة خضروات يدوية', description: 'تقطيع سريع وآمن للخضروات والفواكه.', price: 45.00, category: 'kitchen-tools', imageUrl: 'https://placehold.co/400x300/FECACA/EF4444?text=قطاعة+خضروات' },
            // { id: 'kt4', name: 'ميزان مطبخ رقمي', description: 'دقة عالية في قياس المكونات للوصفات.', price: 65.00, category: 'kitchen-tools', imageUrl: 'https://placehold.co/400x300/FECACA/EF4444?text=ميزان+مطبخ' },
            // { id: 'kt5', name: 'مجموعة أوعية خلط', description: 'متعددة الأحجام للاستخدامات المختلفة في المطبخ.', price: 95.00, category: 'kitchen-tools', imageUrl: 'https://placehold.co/400x300/FECACA/EF4444?text=أوعية+خلط' },

            // // Vegetables
            // { id: 'v1', name: 'طماطم طازجة', description: 'طماطم حمراء ناضجة، مثالية للسلطات والطهي.', price: 12.00, category: 'vegetables', imageUrl: 'https://placehold.co/400x300/D1FAE5/059669?text=طماطم' },
            // { id: 'v2', name: 'خيار بلدي', description: 'خيار طازج ومقرمش، مثالي للوجبات الخفيفة.', price: 8.00, category: 'vegetables', imageUrl: 'https://placehold.co/400x300/D1FAE5/059669?text=خيار' },
            // { id: 'v3', name: 'بصل أحمر', description: 'بصل أحمر حار، يضيف نكهة مميزة لأطباقك.', price: 10.00, category: 'vegetables', imageUrl: 'https://placehold.co/400x300/D1FAE5/059669?text=بصل+أحمر' },
            // { id: 'v4', name: 'بطاطس للتحمير', description: 'بطاطس عالية الجودة، مثالية للقلي والخبز.', price: 15.00, category: 'vegetables', imageUrl: 'https://placehold.co/400x300/D1FAE5/059669?text=بطاطس' },
            // { id: 'v5', name: 'فلفل أخضر', description: 'فلفل أخضر طازج، يضيف نكهة منعشة وحرارة خفيفة.', price: 9.00, category: 'vegetables', imageUrl: 'https://placehold.co/400x300/D1FAE5/059669?text=فلفل+أخضر' },

            // // Library
            // { id: 'l1', name: 'رواية "أرض زيكولا"', description: 'رواية خيالية مشوقة للكاتب عمرو عبد الحميد.', price: 75.00, category: 'library', imageUrl: 'https://placehold.co/400x300/DBEAFE/2563EB?text=أرض+زيكولا' },
            // { id: 'l2', name: 'كتاب "فن اللامبالاة"', description: 'دليل غير تقليدي لحياة أفضل، لمارك مانسون.', price: 60.00, category: 'library', imageUrl: 'https://placehold.co/400x300/DBEAFE/2563EB?text=فن+اللامبالاة' },
            // { id: 'l3', name: 'مجموعة قصص قصيرة', description: 'مختارات من القصص القصيرة لأدباء عالميين.', price: 50.00, category: 'library', imageUrl: 'https://placehold.co/400x300/DBEAFE/2563EB?text=قصص+قصيرة' },
            // { id: 'l4', name: 'كتاب طبخ صحي', description: 'وصفات صحية ولذيذة لنمط حياة متوازن.', price: 90.00, category: 'library', imageUrl: 'https://placehold.co/400x300/DBEAFE/2563EB?text=كتاب+طبخ' },
            // { id: 'l5', name: 'قاموس عربي-إنجليزي', description: 'قاموس شامل للمبتدئين والمتقدمين.', price: 120.00, category: 'library', imageUrl: 'https://placehold.co/400x300/DBEAFE/2563EB?text=قاموس' },

            // // Food
            // { id: 'f1', name: 'أرز بسمتي فاخر', description: 'أرز طويل الحبة ذو جودة عالية ورائحة مميزة.', price: 40.00, category: 'food', imageUrl: 'https://placehold.co/400x300/FEE2E2/DC2626?text=أرز+بسمتي' },
            // { id: 'f2', name: 'مكرونة إيطالية', description: 'مكرونة مصنوعة من أجود أنواع القمح الصلب.', price: 20.00, category: 'food', imageUrl: 'https://placehold.co/400x300/FEE2E2/DC2626?text=مكرونة' },
            // { id: 'f3', name: 'زيت زيتون بكر ممتاز', description: 'زيت زيتون طبيعي 100%، مثالي للطهي والسلطات.', price: 90.00, category: 'food', imageUrl: 'https://placehold.co/400x300/FEE2E2/DC2626?text=زيت+زيتون' },
            // { id: 'f4', name: 'سكر أبيض ناعم', description: 'سكر نقي عالي الجودة، للتحلية والخبز.', price: 15.00, category: 'food', imageUrl: 'https://placehold.co/400x300/FEE2E2/DC2626?text=سكر' },
            // { id: 'f5', name: 'عدس أحمر مجروش', description: 'عدس سريع الطهي وغني بالبروتين.', price: 28.00, category: 'food', imageUrl: 'https://placehold.co/400x300/FEE2E2/DC2626?text=عدس+أحمر' },

            // // Drinks
            // { id: 'd1', name: 'عصير برتقال طبيعي', description: 'عصير طازج 100% بدون مواد حافظة.', price: 35.00, category: 'drinks', imageUrl: 'https://placehold.co/400x300/FFEDD5/F97316?text=عصير+برتقال' },
            // { id: 'd2', name: 'مياه معدنية نقية', description: 'مياه شرب طبيعية ومنعشة.', price: 5.00, category: 'drinks', imageUrl: 'https://placehold.co/400x300/FFEDD5/F97316?text=مياه+معدنية' },
            // { id: 'd3', name: 'شاي أخضر عضوي', description: 'شاي أخضر فاخر، غني بمضادات الأكسدة.', price: 40.00, category: 'drinks', imageUrl: 'https://placehold.co/400x300/FFEDD5/F97316?text=شاي+أخضر' },
            // { id: 'd4', name: 'قهوة سريعة التحضير', description: 'قهوة غنية وسريعة التحضير ليوم مليء بالنشاط.', price: 50.00, category: 'drinks', imageUrl: 'https://placehold.co/400x300/FFEDD5/F97316?text=قهوة' },
            // { id: 'd5', name: 'مشروب غازي كولا', description: 'مشروب كولا منعش ومثلج.', price: 10.00, category: 'drinks', imageUrl: 'https://placehold.co/400x300/FFEDD5/F97316?text=مشروب+كولا' },
        ];

        // Get DOM elements
        const productGrid = document.getElementById('product-grid');
        const searchInput = document.getElementById('search-input');
        const categoryFilter = document.getElementById('category-filter');
        const cartIcon = document.getElementById('cart-icon');
        const cartCount = document.getElementById('cart-count');
        const cartModal = document.getElementById('cart-modal');
        const closeCartModalButton = document.getElementById('close-cart-modal');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartTotalSpan = document.getElementById('cart-total');
        const emptyCartMessageModal = document.getElementById('empty-cart-message-modal');
        const goToOrdersButton = document.getElementById('go-to-orders-button'); 
        const orderList = document.getElementById('order-list');
        const emptyOrderMessage = document.getElementById('empty-order-message');
        const orderActions = document.getElementById('order-actions');
        const copyOrderButton = document.getElementById('copy-order-button');
        const sendOrderButton = document.getElementById('send-order-button');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const closeMobileMenuButton = document.getElementById('close-mobile-menu');

        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        // Function to render products
        function renderProducts(filteredProducts) {
            productGrid.innerHTML = ''; // Clear existing products
            if (filteredProducts.length === 0) {
                productGrid.innerHTML = '<p class="text-center text-gray-500 text-xl col-span-full">لا توجد منتجات مطابقة لمعايير البحث.</p>';
            }
            filteredProducts.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'bg-white rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition duration-300 fade-in-card';
                productCard.innerHTML = `
                    <img src="${product.imageUrl}" alt="${product.name}" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">${product.name}</h3>
                        <p class="text-gray-600 text-sm mb-4">${product.description}</p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-blue-600 text-3xl font-extrabold">${product.price.toFixed(2)} جنيه</span>
                            <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-3 py-1 rounded-full">${getCategoryDisplayName(product.category)}</span>
                        </div>
                        <button class="add-to-cart-button bg-blue-600 text-white px-6 py-3 rounded-full text-lg font-bold hover:bg-blue-700 transition duration-300 w-full" data-product-id="${product.id}">
                            <i class="fas fa-cart-plus ml-2"></i> إضافة للسلة
                        </button>
                    </div>
                `;
                productGrid.appendChild(productCard);
            });

            // Add event listeners for "Add to Cart" buttons
            document.querySelectorAll('.add-to-cart-button').forEach(button => {
                button.addEventListener('click', (event) => {
                    const productId = event.target.dataset.productId;
                    addProductToCart(productId);
                });
            });

            // Trigger fade-in animation for newly rendered cards
            observeElements('.fade-in-card');
        }

        // Helper to get display name for category
        function getCategoryDisplayName(category) {
            switch (category) {
                case 'cleaners': return 'منظفات';
                case 'kitchen-tools': return 'ادوات مطبخ';
                case 'vegetables': return 'خضروات';
                case 'library': return 'مكتبة';
                case 'food': return 'غذائية';
                case 'drinks': return 'مشروبات';
                default: return category;
            }
        }

        // Filter products based on search input and category
        function filterProducts() {
            const searchTerm = searchInput.value.toLowerCase();
            const selectedCategory = categoryFilter.value;

            const filtered = products.filter(product => {
                const matchesSearch = product.name.toLowerCase().includes(searchTerm) || product.description.toLowerCase().includes(searchTerm);
                const matchesCategory = selectedCategory === 'all' || product.category === selectedCategory;
                return matchesSearch && matchesCategory;
            });
            renderProducts(filtered);
        }

        // Add product to cart
        function addProductToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                const existingItem = cart.find(item => item.id === productId);
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({ ...product, quantity: 1 });
                }
                saveCart();
                updateCartUI();
                showCustomMessage('تم إضافة المنتج إلى السلة!', 'success');
            }
        }

        // Remove product from cart
        function removeProductFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            saveCart();
            updateCartUI();
            showCustomMessage('تم حذف المنتج من السلة.', 'info');
        }

        // Save cart to local storage
        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // Update cart UI (count, modal, orders section)
        function updateCartUI() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;

            // Update cart modal
            cartItemsContainer.innerHTML = '';
            let total = 0;
            if (cart.length === 0) {
                emptyCartMessageModal.classList.remove('hidden');
                goToOrdersButton.classList.add('hidden'); // Hide "إتمام الطلب" button if cart is empty
            } else {
                emptyCartMessageModal.classList.add('hidden');
                goToOrdersButton.classList.remove('hidden'); // Show "إتمام الطلب" button if cart has items
                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    total += itemTotal;
                    const cartItemDiv = document.createElement('div');
                    cartItemDiv.className = 'flex justify-between items-center p-3 bg-gray-50 rounded-lg shadow-sm';
                    cartItemDiv.innerHTML = `
                        <div>
                            <p class="font-bold text-gray-800">${item.name}</p>
                            <p class="text-sm text-gray-600">${item.quantity} x ${item.price.toFixed(2)} جنيه</p>
                        </div>
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <span class="font-semibold text-blue-600">${itemTotal.toFixed(2)} جنيه</span>
                            <button class="remove-from-cart-button text-red-500 hover:text-red-700 text-xl" data-product-id="${item.id}">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    `;
                    cartItemsContainer.appendChild(cartItemDiv);
                });
            }
            cartTotalSpan.textContent = total.toFixed(2);

            // Add event listeners for remove buttons in modal
            document.querySelectorAll('.remove-from-cart-button').forEach(button => {
                button.addEventListener('click', (event) => {
                    const productId = event.target.dataset.productId;
                    removeProductFromCart(productId);
                });
            });

            // Update orders section
            updateOrdersSection();
        }

        // Update orders section content
        function updateOrdersSection() {
            orderList.innerHTML = '';
            if (cart.length === 0) {
                emptyOrderMessage.classList.remove('hidden');
                orderActions.classList.add('hidden');
            } else {
                emptyOrderMessage.classList.add('hidden');
                orderActions.classList.remove('hidden');
                let orderText = '';
                let totalOrderPrice = 0;
                cart.forEach((item, index) => {
                    const itemTotal = item.price * item.quantity;
                    totalOrderPrice += itemTotal;
                    orderList.innerHTML += `
                        <p class="mb-2">
                            <span class="font-semibold text-blue-700">${index + 1}. ${item.name}</span>
                            - <span class="text-green-600">${item.quantity}</span> قطعة
                            - السعر: <span class="font-bold">${item.price.toFixed(2)} جنيه</span>
                            - الإجمالي: <span class="font-bold">${itemTotal.toFixed(2)} جنيه</span>
                        </p>
                    `;
                    orderText += `${index + 1}. ${item.name} - ${item.quantity} قطعة - السعر: ${item.price.toFixed(2)} جنيه - الإجمالي: ${itemTotal.toFixed(2)} جنيه\n`;
                });
                orderList.innerHTML += `<p class="mt-4 text-2xl font-bold text-gray-800">الإجمالي الكلي: <span class="text-blue-700">${totalOrderPrice.toFixed(2)} جنيه</span></p>`;
                copyOrderButton.dataset.orderText = orderText + `الإجمالي الكلي: ${totalOrderPrice.toFixed(2)} جنيه`;
            }
        }

        // Show cart modal
        function showCartModal() {
            cartModal.classList.remove('hidden');
            updateCartUI(); // Ensure cart is updated when modal opens
        }

        // Hide cart modal
        function hideCartModal() {
            cartModal.classList.add('hidden');
        }

        // Copy order to clipboard
        copyOrderButton.addEventListener('click', () => {
            const orderText = copyOrderButton.dataset.orderText;
            if (orderText) {
                // Use document.execCommand('copy') for clipboard operations in iframe environments
                const textarea = document.createElement('textarea');
                textarea.value = orderText;
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    document.execCommand('copy');
                    showCustomMessage('تم نسخ الطلب بنجاح!', 'success');
                } catch (err) {
                    console.error('Failed to copy text: ', err);
                    showCustomMessage('فشل نسخ الطلب. يرجى المحاولة مرة أخرى.', 'error');
                }
                document.body.removeChild(textarea);
            }
        });

        // Send order button (placeholder for actual submission)
        sendOrderButton.addEventListener('click', () => {
            // In a real application, this would send the order to a backend server
            showCustomMessage('تم إرسال طلبك بنجاح! سنتواصل معك قريباً.', 'success');
            // Optionally clear the cart after sending the order
            cart = [];
            saveCart();
            updateCartUI();
        });

        // Custom message box function
        function showCustomMessage(message, type = 'info') {
            const messageBox = document.createElement('div');
            messageBox.className = `fixed bottom-24 right-8 p-4 rounded-lg shadow-lg text-white text-lg z-[1000] animate-fade-in-up`;

            if (type === 'success') {
                messageBox.classList.add('bg-green-500');
            } else if (type === 'error') {
                messageBox.classList.add('bg-red-500');
            } else {
                messageBox.classList.add('bg-blue-500');
            }

            messageBox.innerHTML = `<i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-times-circle' : 'fa-info-circle'} ml-2"></i> ${message}`;
            document.body.appendChild(messageBox);

            setTimeout(() => {
                messageBox.classList.add('animate-fade-out-down');
                messageBox.addEventListener('animationend', () => messageBox.remove());
            }, 3000); // Message disappears after 3 seconds
        }

        // Intersection Observer for scroll animations
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        function observeElements(selector) {
            const sections = document.querySelectorAll(selector);
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target); // Stop observing once visible
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                observer.observe(section);
            });
        }

        // Mobile menu toggle
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Prevent scrolling when menu is open
        });

        closeMobileMenuButton.addEventListener('click', hideMobileMenu);

        function hideMobileMenu() {
            mobileMenu.classList.add('hidden');
            document.body.style.overflow = ''; // Restore scrolling
        }

        // Event Listeners
        cartIcon.addEventListener('click', showCartModal);
        closeCartModalButton.addEventListener('click', hideCartModal);

        // Initial render and UI updates on page load
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts(products); // Render all products initially
            updateCartUI(); // Update cart count and order section
            // Only observe sections that should have fade-in animation, excluding 'products'
            observeElements('section:not(#products).fade-in-section'); 
            observeElements('.fade-in-card'); // Observe initial cards for fade-in animation
        });

        // Smooth scroll for internal links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>
